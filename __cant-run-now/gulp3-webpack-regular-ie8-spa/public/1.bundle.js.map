{"version":3,"sources":["webpack:///./app/script/module/chat.js"],"names":[],"mappings":";;;;;;;AAAA,KAAM,OAAO,GAAG,mBAAO,CAAC,CAAW,CAAC,CAAC;;AAErC,KAAM,QAAQ,o2CAmCb,CAAC;;;AAIF,OAAM,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC;;AAE9B,WAAQ,EAAR,QAAQ;;AAER,WAAQ,oBAAC,MAAM,EAAC;AACd,YAAO,OAAO,CAAC,wBAAwB,CAAC;IACzC;;AAED,QAAK,iBAAE,MAAM,EAAC;AACZ,SAAM,IAAI,GAAG,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC;AAC9B,SAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACjD;;AAED,OAAI,gBAAE,IAAI,EAAE;AACV,SAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;;AAEvB,SAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;AACjB,WAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;AACtB,cAAO,EAAE,IAAI;AACb,WAAI,EAAE,CAAC,IAAI,IAAI;MAChB,CAAC;;AAEF,SAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IAChB;EACF,CAAC,C","file":"1.bundle.js","sourcesContent":["const Regular = require('regularjs');\r\n\r\nconst template = `\r\n<div class=\"panel panel-primary\">\r\n  <div class=\"panel-heading\">\r\n    <h3 class=\"panel-title\">Chat Room <span class=\"badge\">{messages.length}</span></h3>\r\n  </div>\r\n  <div class=\"panel-body\">\r\n  <div class=\"message-list\">\r\n  {#list messages as message}\r\n  <div class=\"media\" r-animation=\"on: enter; class: animated fadeInY; on: leave; class: animated fadeOutY;\">\r\n    <a class=\"media-left\" href=\"#\">\r\n      <img  src=\"{message.user.avatar}\"  style=\"width: 64px; height: 64px;\">\r\n    </a>\r\n    <div class=\"media-body\">\r\n      <h4 class=\"media-heading\"><a href=\"#!/user/{message.user.id}\">{message.user.name}</a>\r\n      <span class='small'>{message.time|format}</span>\r\n      <a href=\"#\" r-hide={message.user !== this.$state.user} on-click={messages.splice(message_index, 1)}>delete</a>\r\n      </h4>\r\n      {message.content}\r\n    </div>\r\n  </div>\r\n  {/list}\r\n  </div>\r\n\r\n  </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-12\">\r\n        <div class=\"input-group\">\r\n          <input type=\"text\" class=\"form-control\" r-model={text} on-enter={this.post(text)} placeholder=\"Say something for...\">\r\n          <span class=\"input-group-btn\">\r\n            <button class=\"btn btn-primary\" type=\"button\" on-click={this.post(text)}>Post Message!</button>\r\n          </span>\r\n        </div><!-- /input-group -->\r\n      </div><!-- /.col-lg-6 -->\r\n    </div><!-- /.row -->\r\n</div>\r\n`;\r\n\r\n\r\n// 偷懒，用本地数据\r\nmodule.exports = Regular.extend({\r\n\r\n  template,\r\n\r\n  canLeave(option){\r\n    return confirm('confirm to leave chat?')\r\n  },\r\n\r\n  enter( option){\r\n    const page = option.page || 1;\r\n    if(!this.data.messages) this.data.messages = [];\r\n  },\r\n\r\n  post( text ){\r\n    const data = this.data;\r\n\r\n    data.messages.push({\r\n      user: this.$state.user,\r\n      content: text,\r\n      time: +new Date\r\n    })\r\n\r\n    data.text = '';\r\n  }\r\n})\n\n\n// WEBPACK FOOTER //\n// ./app/script/module/chat.js"],"sourceRoot":""}