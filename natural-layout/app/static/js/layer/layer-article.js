"use strict";jQuery(document).ready(function(){var i=$(".cd-intro-block"),r=$(".cd-projects-wrapper"),l=r.children(".cd-slider"),n=$(".cd-project-content"),a=$(".cd-slider-navigation"),o=!1;function e(){if("desktop"==window.getComputedStyle(document.querySelector(".cd-projects-wrapper"),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")){var e=l.children("li"),i=e.eq(0).width(),n=Number(l.children("li").eq(1).css("margin-left").replace("px","")),s=(i+n)*(e.length+1)+"px",t=l.children("li.current").index();l.css("width",s),0!=t&&d(l,t*(i+n)+"px")}else l.css("width",""),d(l,0);o=!1}function s(e){var i=e.children(".current"),n=i.index(),s=i.nextAll("li").length,t=i.width(),r=Number(e.children("li").eq(1).css("margin-left").replace("px","")),l=(n=4<s?n+3:n+s-2)*(t+r)+"px";e.addClass("next"),d(e,l),e.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){c("next",i,e,s)}),0<$(".no-csstransitions").length&&c("next",i,e,s)}function t(e){var i=e.children(".previous"),n=i.index(),s=i.width(),t=Number(e.children("li").eq(1).css("margin-left").replace("px",""));console.log(t);var r=n*(s+t)+"px";e.addClass("prev"),d(e,r),e.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){c("prev",i,e)}),0<$(".no-csstransitions").length&&c("prev",i,e)}function c(e,i,n,s){var t;"next"==e?(n.removeClass("next").find(".previous").removeClass("previous"),i.removeClass("current"),4<s?i.addClass("previous").next("li").next("li").next("li").addClass("current"):4==s?(i.next("li").next("li").addClass("current"),i.prev("li").addClass("previous")):3==s&&(i.next("li").addClass("current"),i.prev("li").prev("li").addClass("previous"))):(n.removeClass("prev").find(".current").removeClass("current"),i.removeClass("previous").addClass("current"),2<i.prevAll("li").length?i.prev("li").prev("li").prev("li").addClass("previous"):!n.children("li").eq(0).hasClass("current")&&n.children("li").eq(0).addClass("previous")),(t=r.find("li.current")).is(":first-child")?a.find(".prev").addClass("inactive"):a.find(".prev").removeClass("inactive"),t.nextAll("li").length<3?a.find(".next").addClass("inactive"):a.find(".next").removeClass("inactive")}function d(e,i){e.css({"-moz-transform":"translateX(-"+i+")","-webkit-transform":"translateX(-"+i+")","-ms-transform":"translateX(-"+i+")","-o-transform":"translateX(-"+i+")",transform:"translateX(-"+i+")"})}e(),$(window).on("resize",function(){o||(window.requestAnimationFrame?window.requestAnimationFrame(e):e(),o=!0)}),i.on("click",'a[data-action="show-projects"]',function(e){e.preventDefault(),i.addClass("projects-visible"),r.addClass("projects-visible"),setTimeout(function(){!function e(i){0<i.length&&setTimeout(function(){i.addClass("slides-in"),e(i.next())},50)}(l.children("li").eq(0))},200)}),i.on("click",function(e){i.hasClass("projects-visible")&&!$(e.target).is('a[data-action="show-projects"]')&&(i.removeClass("projects-visible"),r.removeClass("projects-visible"))}),r.on("click",".cd-slider a",function(e){e.preventDefault(),$(this).parent("li").next("li").is(".current")?t(l):$(this).parent("li").prev("li").prev("li").prev("li").is(".current")?s(l):n.addClass("is-visible")}),n.on("click",".close",function(e){e.preventDefault(),n.removeClass("is-visible")}),a.on("click",".next",function(){s(l)}),a.on("click",".prev",function(){t(l)}),$(document).keyup(function(e){"37"==e.which&&i.hasClass("projects-visible")&&!a.find(".prev").hasClass("inactive")?t(l):"39"==e.which&&i.hasClass("projects-visible")&&!a.find(".next").hasClass("inactive")?s(l):"27"==e.which&&n.hasClass("is-visible")&&n.removeClass("is-visible")}),l.on("swipeleft",function(){!a.find(".next").hasClass("inactive")&&s(l)}),l.on("swiperight",function(){!a.find(".prev").hasClass("inactive")&&t(l)})});