"use strict";jQuery(document).ready(function(){var i=$(".cd-intro-block"),r=$(".cd-projects-wrapper"),a=r.children(".cd-slider"),n=$(".cd-project-content"),l=$(".cd-slider-navigation"),o=!1;function e(){if("desktop"==window.getComputedStyle(document.querySelector(".cd-projects-wrapper"),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")){var e=a.children("li"),i=e.eq(0).width(),n=Number(a.children("li").eq(1).css("margin-left").replace("px","")),s=(i+n)*(e.length+1)+"px",t=a.children("li.current").index();a.css("width",s),0!=t&&d(a,t*(i+n)+"px")}else a.css("width",""),d(a,0);o=!1}function s(e){var i=e.children(".current"),n=i.index(),s=i.nextAll("li").length,t=i.width(),r=Number(e.children("li").eq(1).css("margin-left").replace("px","")),a=(n=4<s?n+3:n+s-2)*(t+r)+"px";e.addClass("next"),d(e,a),e.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){c("next",i,e,s)}),0<$(".no-csstransitions").length&&c("next",i,e,s)}function t(e){var i=e.children(".previous"),n=i.index()*(i.width()+Number(e.children("li").eq(1).css("margin-left").replace("px","")))+"px";e.addClass("prev"),d(e,n),e.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){c("prev",i,e)}),0<$(".no-csstransitions").length&&c("prev",i,e)}function c(e,i,n,s){var t;"next"==e?(n.removeClass("next").find(".previous").removeClass("previous"),i.removeClass("current"),4<s?i.addClass("previous").next("li").next("li").next("li").addClass("current"):4==s?(i.next("li").next("li").addClass("current"),i.prev("li").addClass("previous")):3==s&&(i.next("li").addClass("current"),i.prev("li").prev("li").addClass("previous"))):(n.removeClass("prev").find(".current").removeClass("current"),i.removeClass("previous").addClass("current"),2<i.prevAll("li").length?i.prev("li").prev("li").prev("li").addClass("previous"):!n.children("li").eq(0).hasClass("current")&&n.children("li").eq(0).addClass("previous")),(t=r.find("li.current")).is(":first-child")?l.find(".prev").addClass("inactive"):l.find(".prev").removeClass("inactive"),t.nextAll("li").length<3?l.find(".next").addClass("inactive"):l.find(".next").removeClass("inactive")}function d(e,i){e.css({"-moz-transform":"translateX(-"+i+")","-webkit-transform":"translateX(-"+i+")","-ms-transform":"translateX(-"+i+")","-o-transform":"translateX(-"+i+")",transform:"translateX(-"+i+")"})}e(),$(window).on("resize",function(){o||(window.requestAnimationFrame?window.requestAnimationFrame(e):e(),o=!0)}),i.on("click",'a[data-action="show-projects"]',function(e){e.preventDefault(),i.addClass("projects-visible"),r.addClass("projects-visible"),setTimeout(function(){!function e(i){0<i.length&&setTimeout(function(){i.addClass("slides-in"),e(i.next())},50)}(a.children("li").eq(0))},200)}),i.on("click",function(e){i.hasClass("projects-visible")&&!$(e.target).is('a[data-action="show-projects"]')&&(i.removeClass("projects-visible"),r.removeClass("projects-visible"))}),r.on("click",".cd-slider a",function(e){e.preventDefault(),$(this).parent("li").next("li").is(".current")?t(a):$(this).parent("li").prev("li").prev("li").prev("li").is(".current")?s(a):n.addClass("is-visible")}),n.on("click",".close",function(e){e.preventDefault(),n.removeClass("is-visible")}),l.on("click",".next",function(){s(a)}),l.on("click",".prev",function(){t(a)}),$(document).keyup(function(e){"37"==e.which&&i.hasClass("projects-visible")&&!l.find(".prev").hasClass("inactive")?t(a):"39"==e.which&&i.hasClass("projects-visible")&&!l.find(".next").hasClass("inactive")?s(a):"27"==e.which&&n.hasClass("is-visible")&&n.removeClass("is-visible")}),a.on("swipeleft",function(){!l.find(".next").hasClass("inactive")&&s(a)}),a.on("swiperight",function(){!l.find(".prev").hasClass("inactive")&&t(a)})});